colnames(df_pilot1) <- c('not_included', 'subjectID', paste0('s', 1:20))
num_rows = nrow(df_pilot1)
num_rows
df_pilot1 <- df_pilot1 %>%
slice(2:num_rows) %>%
select(c('subjectID', paste0('s', 1:20))
#getting scores into numeric form so you can add them together later
print(sapply(df_pilot1, class)) #debugging
df_pilot1 <- transform(df_pilot1,s1 = as.numeric(s1))
print(sapply(df_pilot1$s1, class)) #debugging
df_pilot1 <- transform(df_pilot1,s2 = as.numeric(s2))
df_pilot1 <- transform(df_pilot1,s3 = as.numeric(s3))
df_pilot1 <- transform(df_pilot1,s4 = as.numeric(s4))
df_pilot1 <- transform(df_pilot1,s5 = as.numeric(s5))
df_pilot1 <- transform(df_pilot1,s6 = as.numeric(s6))
df_pilot1 <- transform(df_pilot1,s7 = as.numeric(s7))
df_pilot1 <- transform(df_pilot1,s8 = as.numeric(s8))
df_pilot1 <- transform(df_pilot1,s9 = as.numeric(s9))
df_pilot1 <- transform(df_pilot1,s10 = as.numeric(s10))
df_pilot1 <- transform(df_pilot1,s11 = as.numeric(s11))
df_pilot1 <- transform(df_pilot1,s12 = as.numeric(s12))
df_pilot1 <- transform(df_pilot1,s13 = as.numeric(s13))
df_pilot1 <- transform(df_pilot1,s14 = as.numeric(s14))
df_pilot1 <- transform(df_pilot1,s15 = as.numeric(s15))
df_pilot1 <- transform(df_pilot1,s16 = as.numeric(s16))
df_pilot1 <- transform(df_pilot1,s17 = as.numeric(s17))
df_pilot1 <- transform(df_pilot1,s18 = as.numeric(s18))
df_pilot1 <- transform(df_pilot1,s19 = as.numeric(s19))
df_pilot1 <- transform(df_pilot1,s20 = as.numeric(s20))
#sum STAI score
df_pilot1 <- df_pilot1 %>%
group_by(subjectID) %>%
mutate(sumVals = (5-s1) + s2 + (5-s3) + s4 + s5 + (5-s6) + (5-s7) + s8 + s9 + (5-s10) + s11 + s12 + (5-s13) + (5-s14) +
s15 + (5-s16) + s17 + s18 + (5-s19) + s20)
df_pilot1 <- df_pilot1 %>%
group_by(subjectID) %>%
mutate(anxiety_level = case_when(
sumVals < 37 ~ 'low trait anxiety',
sumVals >= 38 & sumVals < 44 ~ 'moderate trait anxiety',
sumVals > 44 ~ 'high trait anxiety'
))
#set-up
setwd("~/Documents/GitHub/anxiety_cognitive_maps_analyses")
library(tidyverse)
library(dplyr)
#path references
data_path <- '/Users/brookesevchik/Box/Data/Anxiety_Cognitive_Maps/Pilot1/STAIscores.csv'
#load data
df_pilot1 <- read_csv(data_path)
#manipulate df to get it to look how you want
colnames(df_pilot1) <- c('not_included', 'subjectID', paste0('s', 1:20))
num_rows = nrow(df_pilot1)
num_rows
df_pilot1 <- df_pilot1 %>%
slice(2:num_rows) %>%
select('subjectID', 's1', 's2', 's3', 's4', 's5', 's6', 's7', 's8', 's9', 's10', 's11', 's12', 's13', 's14', 's15', 's16', 's17', 's18', 's19', 's20')
#getting scores into numeric form so you can add them together later
print(sapply(df_pilot1, class)) #debugging
df_pilot1 <- transform(df_pilot1,s1 = as.numeric(s1))
print(sapply(df_pilot1$s1, class)) #debugging
df_pilot1 <- transform(df_pilot1,s2 = as.numeric(s2))
df_pilot1 <- transform(df_pilot1,s3 = as.numeric(s3))
df_pilot1 <- transform(df_pilot1,s4 = as.numeric(s4))
df_pilot1 <- transform(df_pilot1,s5 = as.numeric(s5))
df_pilot1 <- transform(df_pilot1,s6 = as.numeric(s6))
df_pilot1 <- transform(df_pilot1,s7 = as.numeric(s7))
df_pilot1 <- transform(df_pilot1,s8 = as.numeric(s8))
df_pilot1 <- transform(df_pilot1,s9 = as.numeric(s9))
df_pilot1 <- transform(df_pilot1,s10 = as.numeric(s10))
df_pilot1 <- transform(df_pilot1,s11 = as.numeric(s11))
df_pilot1 <- transform(df_pilot1,s12 = as.numeric(s12))
df_pilot1 <- transform(df_pilot1,s13 = as.numeric(s13))
df_pilot1 <- transform(df_pilot1,s14 = as.numeric(s14))
df_pilot1 <- transform(df_pilot1,s15 = as.numeric(s15))
df_pilot1 <- transform(df_pilot1,s16 = as.numeric(s16))
df_pilot1 <- transform(df_pilot1,s17 = as.numeric(s17))
df_pilot1 <- transform(df_pilot1,s18 = as.numeric(s18))
df_pilot1 <- transform(df_pilot1,s19 = as.numeric(s19))
df_pilot1 <- transform(df_pilot1,s20 = as.numeric(s20))
#sum STAI score
df_pilot1 <- df_pilot1 %>%
group_by(subjectID) %>%
mutate(sumVals = (5-s1) + s2 + (5-s3) + s4 + s5 + (5-s6) + (5-s7) + s8 + s9 + (5-s10) + s11 + s12 + (5-s13) + (5-s14) +
s15 + (5-s16) + s17 + s18 + (5-s19) + s20)
df_pilot1 <- df_pilot1 %>%
group_by(subjectID) %>%
mutate(anxiety_level = case_when(
sumVals < 37 ~ 'low trait anxiety',
sumVals >= 38 & sumVals < 44 ~ 'moderate trait anxiety',
sumVals > 44 ~ 'high trait anxiety'
))
#set-up
setwd("~/Documents/GitHub/anxiety_cognitive_maps_analyses")
library(tidyverse)
library(dplyr)
#path references
data_path <- '/Users/brookesevchik/Box/Data/Anxiety_Cognitive_Maps/Pilot1/STAIscores.csv'
#load data
df_pilot1 <- read_csv(data_path)
#manipulate df to get it to look how you want
colnames(df_pilot1) <- c('not_included', 'subjectID', paste0('s', 1:20))
num_rows = nrow(df_pilot1)
num_rows
df_pilot1 <- df_pilot1 %>%
slice(2:num_rows) %>%
select('subjectID', 's1', 's2', 's3', 's4', 's5', 's6', 's7', 's8', 's9', 's10', 's11', 's12', 's13', 's14', 's15', 's16', 's17', 's18', 's19', 's20')
#getting scores into numeric form so you can add them together later
print(sapply(df_pilot1, class)) #debugging
df_pilot1 <- transform(df_pilot1,s1 = as.numeric(s1))
print(sapply(df_pilot1$s1, class)) #debugging
df_pilot1 <- df_pilot1 %>%
mutate(across(paste0('s', 1:20), as.numeric))
#sum STAI score
df_pilot1 <- df_pilot1 %>%
group_by(subjectID) %>%
mutate(sumVals = (5-s1) + s2 + (5-s3) + s4 + s5 + (5-s6) + (5-s7) + s8 + s9 + (5-s10) + s11 + s12 + (5-s13) + (5-s14) +
s15 + (5-s16) + s17 + s18 + (5-s19) + s20)
df_pilot1 <- df_pilot1 %>%
group_by(subjectID) %>%
mutate(anxiety_level = case_when(
sumVals < 37 ~ 'low trait anxiety',
sumVals >= 38 & sumVals < 44 ~ 'moderate trait anxiety',
sumVals > 44 ~ 'high trait anxiety'
))
#set-up
setwd("~/Documents/GitHub/anxiety_cognitive_maps_analyses")
library(tidyverse)
library(dplyr)
#BE SURE TO EDIT PATH NAMES EACH TIME YOU RUN SCRIPT
#path references
data_path <- '/Users/brookesevchik/Box/Data/Anxiety_Cognitive_Maps/Pilot1/STAIscores.csv' #EDIT PATH NAME EACH TIME
#load data
df_pilot1 <- read_csv(data_path)
#manipulate df to get it to look how you want
colnames(df_pilot1) <- c('not_included', 'subjectID', paste0('s', 1:20))
num_rows = nrow(df_pilot1)
num_rows
df_pilot1 <- df_pilot1 %>%
slice(2:num_rows) %>%
select('subjectID', 's1', 's2', 's3', 's4', 's5', 's6', 's7', 's8', 's9', 's10', 's11', 's12', 's13', 's14', 's15', 's16', 's17', 's18', 's19', 's20')
#getting scores into numeric form so you can add them together later
print(sapply(df_pilot1, class)) #debugging
df_pilot1 <- transform(df_pilot1,s1 = as.numeric(s1))
print(sapply(df_pilot1$s1, class)) #debugging
df_pilot1 <- df_pilot1 %>%
mutate(across(paste0('s', 1:20), as.numeric))
#sum STAI score
df_pilot1 <- df_pilot1 %>%
group_by(subjectID) %>%
mutate(sumVals = (5-s1) + s2 + (5-s3) + s4 + s5 + (5-s6) + (5-s7) + s8 + s9 + (5-s10) + s11 + s12 + (5-s13) + (5-s14) +
s15 + (5-s16) + s17 + s18 + (5-s19) + s20)
df_pilot1 <- df_pilot1 %>%
group_by(subjectID) %>%
mutate(anxiety_level = case_when(
sumVals < 37 ~ 'low trait anxiety',
sumVals >= 38 & sumVals < 44 ~ 'moderate trait anxiety',
sumVals > 44 ~ 'high trait anxiety'
))
#save out the file
write.csv(df_pilot1, 'C:/Users/brookesevchik/Box/Data/Anxiety_Cognitive_Maps/Pilot1') #EDIT PATH NAME EACH TIME
#set-up
setwd("~/Documents/GitHub/anxiety_cognitive_maps_analyses")
library(tidyverse)
library(dplyr)
#BE SURE TO EDIT PATH NAMES EACH TIME YOU RUN SCRIPT
#path references
data_path <- '/Users/brookesevchik/Box/Data/Anxiety_Cognitive_Maps/Pilot1/STAIscores.csv' #EDIT PATH NAME EACH TIME
#load data
df_pilot1 <- read_csv(data_path)
#manipulate df to get it to look how you want
colnames(df_pilot1) <- c('not_included', 'subjectID', paste0('s', 1:20))
num_rows = nrow(df_pilot1)
num_rows
df_pilot1 <- df_pilot1 %>%
slice(2:num_rows) %>%
select('subjectID', 's1', 's2', 's3', 's4', 's5', 's6', 's7', 's8', 's9', 's10', 's11', 's12', 's13', 's14', 's15', 's16', 's17', 's18', 's19', 's20')
#getting scores into numeric form so you can add them together later
print(sapply(df_pilot1, class)) #debugging
df_pilot1 <- transform(df_pilot1,s1 = as.numeric(s1))
print(sapply(df_pilot1$s1, class)) #debugging
df_pilot1 <- df_pilot1 %>%
mutate(across(paste0('s', 1:20), as.numeric))
#sum STAI score
df_pilot1 <- df_pilot1 %>%
group_by(subjectID) %>%
mutate(sumVals = (5-s1) + s2 + (5-s3) + s4 + s5 + (5-s6) + (5-s7) + s8 + s9 + (5-s10) + s11 + s12 + (5-s13) + (5-s14) +
s15 + (5-s16) + s17 + s18 + (5-s19) + s20)
df_pilot1 <- df_pilot1 %>%
group_by(subjectID) %>%
mutate(anxiety_level = case_when(
sumVals < 37 ~ 'low trait anxiety',
sumVals >= 38 & sumVals < 44 ~ 'moderate trait anxiety',
sumVals > 44 ~ 'high trait anxiety'
))
#save out the file
write.csv(df_pilot1, '/Users/brookesevchik/Box/Data/Anxiety_Cognitive_Maps/Pilot1') #EDIT PATH NAME EACH TIME
#set-up
setwd("~/Documents/GitHub/anxiety_cognitive_maps_analyses")
library(tidyverse)
library(dplyr)
#BE SURE TO EDIT PATH NAMES EACH TIME YOU RUN SCRIPT
#path references
data_path <- '/Users/brookesevchik/Box/Data/Anxiety_Cognitive_Maps/Pilot1/STAIscores.csv' #EDIT PATH NAME EACH TIME
#load data
df_pilot1 <- read_csv(data_path)
#manipulate df to get it to look how you want
colnames(df_pilot1) <- c('not_included', 'subjectID', paste0('s', 1:20))
num_rows = nrow(df_pilot1)
num_rows
df_pilot1 <- df_pilot1 %>%
slice(2:num_rows) %>%
select('subjectID', 's1', 's2', 's3', 's4', 's5', 's6', 's7', 's8', 's9', 's10', 's11', 's12', 's13', 's14', 's15', 's16', 's17', 's18', 's19', 's20')
#getting scores into numeric form so you can add them together later
print(sapply(df_pilot1, class)) #debugging
df_pilot1 <- transform(df_pilot1,s1 = as.numeric(s1))
print(sapply(df_pilot1$s1, class)) #debugging
df_pilot1 <- df_pilot1 %>%
mutate(across(paste0('s', 1:20), as.numeric))
#sum STAI score
df_pilot1 <- df_pilot1 %>%
group_by(subjectID) %>%
mutate(sumVals = (5-s1) + s2 + (5-s3) + s4 + s5 + (5-s6) + (5-s7) + s8 + s9 + (5-s10) + s11 + s12 + (5-s13) + (5-s14) +
s15 + (5-s16) + s17 + s18 + (5-s19) + s20)
df_pilot1 <- df_pilot1 %>%
group_by(subjectID) %>%
mutate(anxiety_level = case_when(
sumVals < 37 ~ 'low trait anxiety',
sumVals >= 38 & sumVals < 44 ~ 'moderate trait anxiety',
sumVals > 44 ~ 'high trait anxiety'
))
#save out the file
write.csv(df_pilot1, '/Users/brookesevchik/Box/Data/Anxiety_Cognitive_Maps/Pilot1/STAI_scores_calculated.csv') #EDIT PATH NAME EACH TIME
df_trial <- tibble(subID = c('sub1', 'sub2', 'sub3'),
s1 = c(1,3,2),
s2 = c(3,4,5),
s3 = c(2,4,5))
mean = (s1 + s2 + s3 / 3) #3
df_trial <- replace(df, df == 5, mean)
View(df_trial)
df_trial <- tibble(subID = c('sub1', 'sub2', 'sub3'),
s1 = c(1,3,2),
s2 = c(3,4,5),
s3 = c(2,4,5))
#mean = (s1 + s2 + s3 / 3) #3
df_trial <- replace(df$s1, df$s1 == 5, 100)
df_trial <- tibble(subID = c('sub1', 'sub2', 'sub3'),
s1 = c(1,3,2),
s2 = c(3,4,5),
s3 = c(2,4,5))
df_trial <- tibble(subID = c('sub1', 'sub2', 'sub3'),
s1 = c(1,3,2),
s2 = c(3,4,5),
s3 = c(2,4,5))
#mean = (s1 + s2 + s3 / 3) #3
df_trial$s1 <- replace(df_trial$s1, df_trial$s1 == 5, 100)
df <- data.grame(subID = c('sub1', 'sub2', 'sub3'),
s1 = c(1,3,2),
s2 = c(3,4,5),
s3 = c(2,4,5))
#mean = (s1 + s2 + s3 / 3) #3
df$s1 <- replace(df$s1, df$s1 == 5, 100)
View(df)
View(df)
df <- data.grame(subID = c('sub1', 'sub2', 'sub3'),
s1 = c(1,3,2),
s2 = c(3,4,5),
s3 = c(2,4,5))
df
#mean = (s1 + s2 + s3 / 3) #3
df$s1 <- replace(df$s1, df$s1 == 5, 100)
df
df <- data.frame(subID = c('sub1', 'sub2', 'sub3'),
s1 = c(1,3,2),
s2 = c(3,4,5),
s3 = c(2,4,5))
df
#mean = (s1 + s2 + s3 / 3) #3
df$s1 <- replace(df$s1, df$s1 == 5, 100)
df
df <- data.frame(subID = c('sub1', 'sub2', 'sub3'),
s1 = c(1,3,2),
s2 = c(3,4,5),
s3 = c(2,4,5))
View(df)
View(df)
df <- data.frame(subID = c('sub1', 'sub2', 'sub3'),
s1 = c(1,3,2),
s2 = c(3,4,5),
s3 = c(2,4,5))
df[df == 5] <- 100
df <- data.frame(subID = c('sub1', 'sub2', 'sub3'),
s1 = c(1,3,2),
s2 = c(3,4,5),
s3 = c(2,4,5))
df <- df %>%
group_by(subID) %>%
mutate(meanVals = (s1 + s2 + s3) / 3)
df <- data.frame(subID = c('sub1', 'sub2', 'sub3'),
s1 = c(1,3,2),
s2 = c(3,4,5),
s3 = c(2,4,5))
df <- df %>%
group_by(subID) %>%
mutate(meanVals = (s1 + s2 + s3) / 3)
df <- df %>%
group_by(subID) %>%
df[df == 5] <- meanVals
df <- data.frame(subID = c('sub1', 'sub2', 'sub3'),
s1 = c(1,3,2),
s2 = c(3,4,5),
s3 = c(2,4,5))
df <- df %>%
group_by(subID) %>%
mutate(meanVals = (s1 + s2 + s3) / 3)
df[1, 'mean_Vals'] <- df[1, 'mean_vals']
df <- data.frame(subID = c('sub1', 'sub2', 'sub3'),
s1 = c(1,3,2),
s2 = c(3,4,5),
s3 = c(2,4,5))
df <- df %>%
group_by(subID) %>%
mutate(meanVals = (s1 + s2 + s3) / 3)
df<- df %>%
group_by(subID) %>%
mutate(s1 = case_when(
s1 == 5 ~ meanVals,
s1 != 5 ~ s1
))
df <- data.frame(subID = c('sub1', 'sub2', 'sub3'),
s1 = c(1,3,2),
s2 = c(3,4,5),
s3 = c(2,4,5))
df <- df %>%
group_by(subID) %>%
mutate(meanVals = (s1 + s2 + s3) / 3)
df<- df %>%
group_by(subID) %>%
mutate(s2 = case_when(
s2 == 5 ~ meanVals,
s2 != 5 ~ s2
))
df <- data.frame(subID = c('sub1', 'sub2', 'sub3'),
s1 = c(1,3,2),
s2 = c(3,4,5),
s3 = c(2,4,5))
df <- df %>%
group_by(subID) %>%
mutate(meanVals = (s1 + s2 + s3) / 3)
df <- df %>%
mutate(across(everything(), ~ case_when(. == 5 ~ meanVals,
TRUE ~ .)))
df <- data.frame(subID = c('sub1', 'sub2', 'sub3'),
s1 = c(1,3,2),
s2 = c(3,4,5),
s3 = c(2,4,5))
df <- df %>%
group_by(subID) %>%
mutate(meanVals = (s1 + s2 + s3) / 3)
df <- df %>%
mutate(across(s1:s3, ~ case_when(. == 5 ~ get(paste0("meanVals", row_number())),
TRUE ~ .)))
df <- data.frame(subID = c('sub1', 'sub2', 'sub3'),
s1 = c(1,3,2),
s2 = c(3,4,5),
s3 = c(2,4,5))
df <- df %>%
group_by(subID) %>%
mutate(meanVals = (s1 + s2 + s3) / 3)
df <- df%>%
mutate(across(.cols = -subID, ~ ifelse(. == 5, meanVals[match(subID, unique(df$subID))], .)))
df <- data.frame(subID = c('sub1', 'sub2', 'sub3'),
s1 = c(1,3,2),
s2 = c(3,4,5),
s3 = c(2,4,5))
df <- df %>%
group_by(subID) %>%
mutate(meanVals = (s1 + s2 + s3) / 3)
df <- df%>%
mutate(across(-subID, ~ ifelse(. == 5, meanVals[match(subID, unique(df$subID))], .)))
###
df <- data.frame(subID = c('sub1', 'sub2', 'sub3'),
s1 = c(1,3,2),
s2 = c(3,4,5),
s3 = c(2,4,5))
###
df <- df %>%
group_by(subID) %>%
mutate(meanVals = mean(c_across(s1:s3), na.rm = TRUE)) %>%
ungroup() %>%
mutate(across(-subID, ~ ifelse(. == 5, meanVals[match(subID, unique(df$subID))], .)))
###
df <- data.frame(subID = c('sub1', 'sub2', 'sub3'),
s1 = c(1,3,2),
s2 = c(3,4,5),
s3 = c(2,4,5))
###
df <- df %>%
group_by(subID) %>%
mutate(meanVals = mean(c_across(s1:s3), na.rm = TRUE)) %>%
ungroup() %>%
mutate(across(-subID, ~ ifelse(. == 5, meanVals[match(subID, unique(df$subID))], .)))
df <- data.frame(subID = c('sub1', 'sub2', 'sub3'),
s1 = c(1,3,2),
s2 = c(3,4,5),
s3 = c(2,4,5))
###
df <- df %>%
group_by(subID) %>%
mutate(meanVals = mean(c_across(s1:s3), na.rm = TRUE)) %>%
ungroup() %>%
mutate(across(-subID, ~ ifelse(. == 5, as.numeric(meanVals[match(subID, unique(df$subID))]), .)))
###
df <- data.frame(subID = c('sub1', 'sub2', 'sub3'),
s1 = c(1,3,2),
s2 = c(3,4,5),
s3 = c(2,4,5))
###
df %>%
group_by(subID) %>%
mutate(meanVals = mean(c_across(s1:s3), na.rm = TRUE)) %>%
ungroup() %>%
mutate(across(-subID, ~ ifelse(. == 5, meanVals[match(.$subID, unique(df$subID))], .)))
###
df <- data.frame(subID = c('sub1', 'sub2', 'sub3'),
s1 = c(1,3,2),
s2 = c(3,4,5),
s3 = c(2,4,5))
###
df <- df %>%
group_by(subID) %>%
mutate(meanVals = mean(c_across(s1:s3), na.rm = TRUE)) %>%
ungroup() %>%
mutate(across(-subID, ~ ifelse(. == 5, meanVals[match(.$subID, unique(df$subID))], .)))
###
df <- data.frame(subID = c('sub1', 'sub2', 'sub3'),
s1 = c(1,3,2),
s2 = c(3,4,5),
s3 = c(2,4,5))
###
df <- df %>%
group_by(subID) %>%
mutate(meanVals = mean(c_across(s1:s3), na.rm = TRUE)) %>%
ungroup() %>%
mutate(across(-subID, ~ ifelse(. == 5, meanVals[match(subID, unique(df$subID))], .)))
df <- data.frame(subID = c('sub1', 'sub2', 'sub3'),
s1 = c(1,3,2),
s2 = c(3,4,5),
s3 = c(2,4,5))
df <- df %>%
group_by(subID) %>%
mutate(meanVals = (s1 + s2 + s3) / 3)
df <- data.frame(subID = c('sub1', 'sub2', 'sub3'),
s1 = c(1,3,2),
s2 = c(3,4,5),
s3 = c(2,4,5))
df <- df %>%
group_by(subID) %>%
mutate(meanVals = (s1 + s2 + s3) / 3)
df<- df %>%
group_by(subID) %>%
mutate(s2 = case_when(
s2 == 5 ~ meanVals,
s2 != 5 ~ s2
))
df <- data.frame(subID = c('sub1', 'sub2', 'sub3'),
s1 = c(1,3,2),
s2 = c(5,5,5),
s3 = c(2,5,5))
df <- df %>%
group_by(subID) %>%
mutate(meanVals = (s1 + s2 + s3) / 3)
df<- df %>%
group_by(subID) %>%
mutate(s2 = case_when(
s2 == 5 ~ meanVals,
s2 != 5 ~ s2
))
df <- data.frame(subID = c('sub1', 'sub2', 'sub3'),
s1 = c(1,3,2),
s2 = c(5,5,5),
s3 = c(2,5,5))
df <- df %>%
group_by(subID) %>%
mutate(meanVals = (s1 + s2 + s3) / 3)
df <- df %>%
mutate(across(paste0('s', 1:20), case_when(. == 5 ~ meanVals,
TRUE ~ .)))
df <- data.frame(subID = c('sub1', 'sub2', 'sub3'),
s1 = c(1,3,2),
s2 = c(5,5,5),
s3 = c(2,5,5))
df <- df %>%
group_by(subID) %>%
mutate(meanVals = (s1 + s2 + s3) / 3) %>%
mutate(across(paste0('s', 1:20), case_when(. == 5 ~ meanVals,
TRUE ~ .)))
df <- data.frame(subID = c('sub1', 'sub2', 'sub3'),
s1 = c(1,3,2),
s2 = c(5,5,5),
s3 = c(2,5,5))
df <- df %>%
mutate(meanVals = (s1 + s2 + s3) / 3) %>%
mutate(across(paste0('s', 1:20), ~ case_when(. == 5 ~ meanVals,
TRUE ~ .)))
df <- data.frame(subID = c('sub1', 'sub2', 'sub3'),
s1 = c(1,3,2),
s2 = c(5,5,5),
s3 = c(2,5,5))
df <- df %>%
mutate(meanVals = (s1 + s2 + s3) / 3) %>%
mutate(across(paste0('s', 1:3), ~ case_when(. == 5 ~ meanVals,
TRUE ~ .)))
