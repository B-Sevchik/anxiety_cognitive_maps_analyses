filter(subject == 'a273wocs111dh0') %>%
count(chosenThreatStatus) %>%
mutate(total_observations = nrow(plot_ooo_df)) %>%
mutate(percentage_chosenThreatStatus = (n/total_observations)*100)
plot_ooo_df
plot_ooo_df <- mistake_df %>%
filter(subject == 'a273wocs111dh0') %>%
count(chosenThreatStatus) %>%
mutate(total_observations = nrow(mistake_df)) %>%
mutate(percentage_chosenThreatStatus = (n/total_observations)*100)
plot_ooo_df
plot_ooo_df <- mistake_df %>%
count(chosenThreatStatus) %>%
mutate(total_observations = nrow(mistake_df)) %>%
mutate(percentage_chosenThreatStatus = (n/total_observations)*100)
plot_ooo_df
ggplot(data = plot_ooo_df, mapping = aes(x = chosenThreatStatus, y = percentage_chosenThreatStatus)) +
geom_bar(stat = "identity", fill = "steelblue") +
labs(x = "Chosen Threat Status", y = "Percentage") +
scale_x_discrete(labels = c("neutral", "threat"))
subject_mistake_df <- mistake_df %>%
filter(subject == 'a273wocs111dh0')
plot_ooo_df <- subject_mistake_df %>%
count(chosenThreatStatus) %>%
mutate(total_observations = nrow(subject_mistake_df)) %>%
mutate(percentage_chosenThreatStatus = (n/total_observations)*100)
plot_ooo_df
ggplot(data = plot_ooo_df, mapping = aes(x = chosenThreatStatus, y = percentage_chosenThreatStatus)) +
geom_bar(stat = "identity", fill = "steelblue") +
labs(x = "Chosen Threat Status", y = "Percentage") +
scale_x_discrete(labels = c("neutral", "threat"))
View(ooo_df)
ooo_df <- ooo_df %>%
group_by(subject, chosenThreatStatus) %>%
summarize(mean_acc = mean(acc))
ooo_df <- ooo_df %>%
group_by(subject, chosenThreatStatus) %>%
summarize(mean_acc = mean(acc))
ooo_df <- ooo_df %>%
group_by(subject) %>%
summarize(mean_acc = mean(acc))
View(ooo_df)
#path references
data_path <- '/Users/brookesevchik/Box/Data/Anxiety_Cognitive_Maps/Pilot1/combinedData_Anxiety_Cognitive_Maps.csv' #EDIT PATH NAME EACH TIME
#load data
ooo_df <- read_csv(data_path)
View(ooo_df)
View(ooo_df)
#load data
df <- read_csv(data_path)
ooo_df <- df %>%
filter(taskName == 'oddOneOutTest')
View(ooo_df)
#path references
data_path <- '/Users/brookesevchik/Box/Data/Anxiety_Cognitive_Maps/Pilot1/combinedData_Anxiety_Cognitive_Maps.csv' #EDIT PATH NAME EACH TIME
#load data
df <- read_csv(data_path)
ooo_df <- df %>%
filter(taskName == 'oddOneOutTest')
mistake_df <- ooo_df %>%
filter(acc == 0) %>%
mutate(otherNode = case_when(partResp == 1 ~ ifelse(option2CommunityNumber == chosenCommunityNumber, 2, 3),
partResp == 2 ~ ifelse(option1CommunityNumber == chosenCommunityNumber, 1, 3),
partResp == 3 ~ ifelse(option1CommunityNumber == chosenCommunityNumber, 1, 2))) %>%
mutate(otherNodeThreatStatus = case_when(otherNode == 1 ~ option1ThreatStatus,
otherNode == 2 ~ option2ThreatStatus,
otherNode == 3 ~ option3ThreatStatus)) %>%
select(subject, trialCount, acc, RT, partResp, chosenThreatStatus, otherNode, otherNodeThreatStatus) %>%
filter(chosenThreatStatus != otherNodeThreatStatus)
View(mistake_df)
ooo_df <- ooo_df %>%
group_by(subject) %>%
summarize(mean_acc = mean(acc))
ooo_df
ooo_df <- ooo_df %>%
group_by(subject, chosenThreatStatus) %>%
summarize(mean_acc = mean(acc))
View(ooo_df)
library(tidyverse)
library(ggplot2)
#path references
data_path <- '/Users/brookesevchik/Box/Data/Anxiety_Cognitive_Maps/Pilot1/combinedData_Anxiety_Cognitive_Maps.csv' #EDIT PATH NAME EACH TIME
#load data
df <- read_csv(data_path)
ooo_df <- df %>%
filter(taskName == 'oddOneOutTest')
mistake_df <- ooo_df %>%
filter(acc == 0) %>%
mutate(otherNode = case_when(partResp == 1 ~ ifelse(option2CommunityNumber == chosenCommunityNumber, 2, 3),
partResp == 2 ~ ifelse(option1CommunityNumber == chosenCommunityNumber, 1, 3),
partResp == 3 ~ ifelse(option1CommunityNumber == chosenCommunityNumber, 1, 2))) %>%
mutate(otherNodeThreatStatus = case_when(otherNode == 1 ~ option1ThreatStatus,
otherNode == 2 ~ option2ThreatStatus,
otherNode == 3 ~ option3ThreatStatus)) %>%
select(subject, trialCount, acc, RT, partResp, chosenThreatStatus, otherNode, otherNodeThreatStatus) %>%
filter(chosenThreatStatus != otherNodeThreatStatus)
ooo_df <- ooo_df %>%
group_by(subject, chosenThreatStatus) %>%
summarize(mean_acc = mean(acc))
ooo_df
ggplot(ooo_df, aes(x = chosenThreatStatus, y = mean_accuracy, group = subject)) +
geom_line(aes(color = as.factor(subject)), size = 1.2) +
geom_point(aes(color = as.factor(subject)), size = 3) +
scale_color_discrete(name = "Subject") +
labs(x = "Chosen Threat Status", y = "Mean Accuracy") +
theme_classic()
ggplot(ooo_df, aes(x = chosenThreatStatus, y = mean_acc, group = subject)) +
geom_line(aes(color = as.factor(subject)), size = 1.2) +
geom_point(aes(color = as.factor(subject)), size = 3) +
scale_color_discrete(name = "Subject") +
labs(x = "Chosen Threat Status", y = "Mean Accuracy") +
theme_classic()
ggplot(df, aes(x = chosenThreatStatus, y = mean_accuracy, fill = subject)) +
geom_boxplot() +
labs(x = "Chosen Threat Status", y = "Mean Accuracy") +
theme_classic()
ggplot(df, aes(x = chosenThreatStatus, y = mean_acc, fill = subject)) +
geom_boxplot() +
labs(x = "Chosen Threat Status", y = "Mean Accuracy") +
theme_classic()
ggplot(ooo_df, aes(x = chosenThreatStatus, y = mean_acc, fill = subject)) +
geom_boxplot() +
labs(x = "Chosen Threat Status", y = "Mean Accuracy") +
theme_classic()
ggplot(df, aes(x = chosenThreatStatus, y = mean_accuracy, fill = subject)) +
geom_bar(stat = "identity", position = "dodge") +
labs(x = "Chosen Threat Status", y = "Mean Accuracy", fill = "Subject")
ggplot(ooo_df, aes(x = chosenThreatStatus, y = mean_acc, fill = subject)) +
geom_bar(stat = "identity", position = "dodge") +
labs(x = "Chosen Threat Status", y = "Mean Accuracy", fill = "Subject")
subject_mistake_df <- mistake_df %>%
filter(subject == 'a273wocs111dh0')
plot_ooo_df_subjects <- subject_mistake_df %>%
count(chosenThreatStatus) %>%
mutate(total_observations = nrow(subject_mistake_df)) %>%
mutate(percentage_chosenThreatStatus = (n/total_observations)*100)
plot_ooo_df_subjects
ggplot(data = plot_ooo_df, mapping = aes(x = chosenThreatStatus, y = percentage_chosenThreatStatus)) +
geom_bar(stat = "identity", fill = "steelblue") +
labs(x = "Chosen Threat Status", y = "Percentage") +
scale_x_discrete(labels = c("neutral", "threat"))
plot_ooo_df <- mistake_df %>%
count(chosenThreatStatus) %>%
mutate(total_observations = nrow(mistake_df)) %>%
mutate(percentage_chosenThreatStatus = (n/total_observations)*100)
plot_ooo_df
ggplot(data = plot_ooo_df, mapping = aes(x = chosenThreatStatus, y = percentage_chosenThreatStatus)) +
geom_bar(stat = "identity", fill = "steelblue") +
labs(x = "Chosen Threat Status", y = "Percentage") +
scale_x_discrete(labels = c("neutral", "threat"))
ggplot(data = plot_ooo_df_subjects, mapping = aes(x = chosenThreatStatus, y = percentage_chosenThreatStatus)) +
geom_bar(stat = "identity", fill = "steelblue") +
labs(x = "Chosen Threat Status", y = "Percentage") +
scale_x_discrete(labels = c("neutral", "threat"))
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(ggplot2)
#high anxiety data frame, ooo
high_anxiety_ooo_df <- STAI_subject_acc_ooo_df %>%
filter(anxiety_level == 'high')
STAI_subject_acc_ooo_df <- STAI_subject_acc_ooo_df %>%
group_by(subject, chosenThreatStatus, anxiety_level) %>%
summarize(mean_acc = mean(acc))
STAI_subject_acc_ooo_df <- merge(ooo_df, df_pilot1_STAI_simple, by = "subject", all = TRUE)
setwd("~/Documents/GitHub/anxiety_cognitive_maps_analyses")
library(tidyverse)
df <- read_csv('/Users/brookesevchik/Box/Data/Anxiety_Cognitive_Maps/Pilot11/combinedData_Anxiety_Cognitive_Maps.csv')
#analyze drop events
drop_df <- df %>%
filter(sectionType == 'dragTaskDropEvent') %>%
select(subject, trialCount, trialAttempt, RT, nCorrect, dragThreat, dragAcc, swappedThreat, swappedAcc)
write_csv(drop_df, 'data/dropEvent.csv')
drop_df
#analyze check answer events
check_answer_df <- df %>%
filter(sectionType == 'dragTaskCheckAnswerEvent') %>%
select(subject, trialCount, trialAttempt, RT, nCorrect, slot0Acc, slot0CurrentType, slot0CorrectType, slot0CurrentSRC, slot0CorrectSRC, slot1Acc,
slot1CurrentType, slot1CorrectType,slot1CurrentSRC, slot1CorrectSRC,
slot2Acc, slot2CurrentType, slot2CorrectType, slot2CurrentSRC, slot2CorrectSRC,
slot3Acc, slot3CurrentType, slot3CorrectType, slot3CurrentSRC, slot3CorrectSRC,
slot4Acc, slot4CurrentType, slot4CorrectType, slot4CurrentSRC, slot4CorrectSRC,
slot5Acc, slot5CurrentType, slot5CorrectType, slot5CurrentSRC, slot5CorrectSRC,
slot6Acc, slot6CurrentType, slot6CorrectType, slot6CurrentSRC, slot6CorrectSRC,
slot7Acc, slot7CurrentType, slot7CorrectType, slot7CurrentSRC, slot7CorrectSRC,
slot8Acc, slot8CurrentType, slot8CorrectType, slot8CurrentSRC, slot8CorrectSRC,
slot9Acc, slot9CurrentType, slot9CorrectType, slot9CurrentSRC, slot9CorrectSRC)
write_csv(check_answer_df, 'data/checkAnswer.csv')
check_answer_df
#analyze illegal transition data
illegal_transition_df <- df %>%
filter(sectionType == 'mainTask' & taskName == 'illegalTransitionTask') %>%
select(subject, trialCount, blockTrialCount, block, RT, acc, activeNodeCommunityCongruency:transitionThreatKind)
write_csv(illegal_transition_df, 'data/illegalTransition.csv')
illegal_transition_df
#analyze odd one out data
ooo_df <- df %>%
filter(sectionType == 'mainTask' & taskName == 'oddOneOutTest') %>%
select(subject, trialCount, RT, acc, partResp, chosenNode:chosenThreatStatus,
option1CommunityNumber, option1ThreatStatus,
option2CommunityNumber, option2ThreatStatus,
option3CommunityNumber, option3ThreatStatus)
write_csv(ooo_df, 'data/oddOneOut.csv')
#set-up
setwd("~/Documents/GitHub/anxiety_cognitive_maps_analyses")
library(tidyverse)
library(dplyr)
#BE SURE TO EDIT PATH NAMES EACH TIME YOU RUN SCRIPT
#path references
data_path <- '/Users/brookesevchik/Box/Data/Anxiety_Cognitive_Maps/Pilot11/STAIscores.csv' #EDIT PATH NAME EACH TIME
#load data
df_pilot1 <- read_csv(data_path)
#manipulate df to get it to look how you want
colnames(df_pilot1) <- c('not_included', 'subjectID', paste0('s', 1:20))
num_rows = nrow(df_pilot1)
num_rows
df_pilot1 <- df_pilot1 %>%
slice(2:num_rows) %>%
select('subjectID', 's1', 's2', 's3', 's4', 's5', 's6', 's7', 's8', 's9', 's10', 's11', 's12', 's13', 's14', 's15', 's16', 's17', 's18', 's19', 's20')
#getting scores into numeric form so you can add them together later
print(sapply(df_pilot1, class)) #debugging
df_pilot1 <- transform(df_pilot1,s1 = as.numeric(s1))
print(sapply(df_pilot1$s1, class)) #debugging
df_pilot1 <- df_pilot1 %>%
mutate(across(paste0('s', 1:20), as.numeric))
#changing non-responses (5) into NaN
df_pilot1 <- df_pilot1 %>%
mutate(across(paste0('s', 1:20), ~ case_when(. == 5 ~ 0,
TRUE ~ .)))
#reverse score what needs to be reverse scored
df_pilot1 <- df_pilot1 %>%
group_by(subjectID) %>%
mutate(s1 = ifelse(s1== 0, 0, 5 - s1),
s3 = ifelse(s3== 0, 0, 5 - s3),
s6 = ifelse(s6== 0, 0, 5 - s6),
s7 = ifelse(s7== 0, 0, 5 - s7),
s10 = ifelse(s10== 0, 0, 5 - s10),
s13 = ifelse(s13== 0, 0, 5 - s13),
s14 = ifelse(s14== 0, 0, 5 - s14),
s16 = ifelse(s16== 0, 0, 5 - s16),
s19 = ifelse(s19== 0, 0, 5 - s19))
#get the mean & replace NaNs(0s) w the mean
df_pilot1 <- df_pilot1 %>%
mutate(meanVals = (s1 + s2 + s3 + s4 + s5 + s6 + s7 + s8 + s9 + s10 + s11 + s12 + s13 + s14 + s15 + s16 + s17 + s18 + s19 + s20)/ 20) %>%
mutate(across(paste0('s', 1:20), ~ case_when(. == 0 ~ meanVals,
TRUE ~ .)))
#sum STAI score
df_pilot1 <- df_pilot1 %>%
group_by(subjectID) %>%
mutate(sumVals = s1 + s2 + s3 + s4 + s5 + s6 + s7 + s8 + s9 + s10 + s11 + s12 + s13 + s14 + s15 + s16 + s17 + s18 + s19 + s20)
#classify anxiety levels based on STAI sum
df_pilot1_STAI <- df_pilot1 %>%
group_by(subjectID) %>%
mutate(anxiety_level = case_when(
sumVals <= 37 ~ 'low trait anxiety',
sumVals >= 38 & sumVals < 44 ~ 'moderate trait anxiety',
sumVals >= 44 ~ 'high trait anxiety'
))
df_pilot1_STAI
#save out the file
write.csv(df_pilot1_STAI, '/Users/brookesevchik/Box/Data/Anxiety_Cognitive_Maps/Pilot11/STAI_scores_calculated.csv') #EDIT PATH NAME EACH TIME
library(tidyverse)
#path reference
data_path <- '/Users/brookesevchik/Box/Data/Anxiety_Cognitive_Maps/Pilot11/combinedData_Anxiety_Cognitive_Maps.csv'
#load data
df <- read_csv(data_path)
ooo_df <- df %>%
filter(taskName == 'oddOneOutTest')
mistake_df <- ooo_df %>%
filter(acc == 0) %>%
mutate(otherNode = case_when(partResp == 1 ~ ifelse(option2CommunityNumber == chosenCommunityNumber, 2, 3),
partResp == 2 ~ ifelse(option1CommunityNumber == chosenCommunityNumber, 1, 3),
partResp == 3 ~ ifelse(option1CommunityNumber == chosenCommunityNumber, 1, 2))) %>%
mutate(otherNodeThreatStatus = case_when(otherNode == 1 ~ option1ThreatStatus,
otherNode == 2 ~ option2ThreatStatus,
otherNode == 3 ~ option3ThreatStatus)) %>%
select(subject, trialCount, acc, RT, partResp, chosenThreatStatus, otherNode, otherNodeThreatStatus) %>%
filter(chosenThreatStatus != otherNodeThreatStatus)
mistake_df
###
#include STAI scores in ooo analyses
df_STAI_ooo <- read_csv('/Users/brookesevchik/Box/Data/Anxiety_Cognitive_Maps/All participants/STAI_scores_calculated.csv')
df_STAI_ooo
df_pilot1_STAI_simple <- df_STAI_ooo %>%
select(subjectID, anxiety_level)
df_pilot1_STAI_simple
names(df_pilot1_STAI_simple) <- c('subject', 'anxiety_level')
df_pilot1_STAI_simple
ooo_anxiety_df <- merge(mistake_df, df_pilot1_STAI_simple, by = "subject", all = TRUE)
ooo_anxiety_df
mistake_df
setwd("~/Documents/GitHub/anxiety_cognitive_maps_analyses")
library(tidyverse)
df <- read_csv('/Users/brookesevchik/Box/Data/Anxiety_Cognitive_Maps/Pilot11/combinedData_Anxiety_Cognitive_Maps.csv')
View(df)
setwd("~/Documents/GitHub/anxiety_cognitive_maps_analyses")
library(tidyverse)
df <- read_csv('/Users/brookesevchik/Box/Data/Anxiety_Cognitive_Maps/Pilot12/combinedData_Anxiety_Cognitive_Maps.csv/')
#analyze drop events
drop_df <- df %>%
filter(sectionType == 'dragTaskDropEvent') %>%
select(subject, trialCount, trialAttempt, RT, nCorrect, dragThreat, dragAcc, swappedThreat, swappedAcc)
write_csv(drop_df, 'data/dropEvent.csv')
drop_df
#analyze check answer events
check_answer_df <- df %>%
filter(sectionType == 'dragTaskCheckAnswerEvent') %>%
select(subject, trialCount, trialAttempt, RT, nCorrect, slot0Acc, slot0CurrentType, slot0CorrectType, slot0CurrentSRC, slot0CorrectSRC, slot1Acc,
slot1CurrentType, slot1CorrectType,slot1CurrentSRC, slot1CorrectSRC,
slot2Acc, slot2CurrentType, slot2CorrectType, slot2CurrentSRC, slot2CorrectSRC,
slot3Acc, slot3CurrentType, slot3CorrectType, slot3CurrentSRC, slot3CorrectSRC,
slot4Acc, slot4CurrentType, slot4CorrectType, slot4CurrentSRC, slot4CorrectSRC,
slot5Acc, slot5CurrentType, slot5CorrectType, slot5CurrentSRC, slot5CorrectSRC,
slot6Acc, slot6CurrentType, slot6CorrectType, slot6CurrentSRC, slot6CorrectSRC,
slot7Acc, slot7CurrentType, slot7CorrectType, slot7CurrentSRC, slot7CorrectSRC,
slot8Acc, slot8CurrentType, slot8CorrectType, slot8CurrentSRC, slot8CorrectSRC,
slot9Acc, slot9CurrentType, slot9CorrectType, slot9CurrentSRC, slot9CorrectSRC)
write_csv(check_answer_df, 'data/checkAnswer.csv')
check_answer_df
#analyze illegal transition data
illegal_transition_df <- df %>%
filter(sectionType == 'mainTask' & taskName == 'illegalTransitionTask') %>%
select(subject, trialCount, blockTrialCount, block, RT, acc, activeNodeCommunityCongruency:transitionThreatKind)
write_csv(illegal_transition_df, 'data/illegalTransition.csv')
illegal_transition_df
#analyze odd one out data
ooo_df <- df %>%
filter(sectionType == 'mainTask' & taskName == 'oddOneOutTest') %>%
select(subject, trialCount, RT, acc, partResp, chosenNode:chosenThreatStatus,
option1CommunityNumber, option1ThreatStatus,
option2CommunityNumber, option2ThreatStatus,
option3CommunityNumber, option3ThreatStatus)
write_csv(ooo_df, 'data/oddOneOut.csv')
#set-up
setwd("~/Documents/GitHub/anxiety_cognitive_maps_analyses")
library(tidyverse)
library(dplyr)
#BE SURE TO EDIT PATH NAMES EACH TIME YOU RUN SCRIPT
#path references
data_path <- '/Users/brookesevchik/Box/Data/Anxiety_Cognitive_Maps/Pilot12/STAIscores.csv' #EDIT PATH NAME EACH TIME
#load data
df_pilot1 <- read_csv(data_path)
#manipulate df to get it to look how you want
colnames(df_pilot1) <- c('not_included', 'subjectID', paste0('s', 1:20))
num_rows = nrow(df_pilot1)
num_rows
df_pilot1 <- df_pilot1 %>%
slice(2:num_rows) %>%
select('subjectID', 's1', 's2', 's3', 's4', 's5', 's6', 's7', 's8', 's9', 's10', 's11', 's12', 's13', 's14', 's15', 's16', 's17', 's18', 's19', 's20')
#getting scores into numeric form so you can add them together later
print(sapply(df_pilot1, class)) #debugging
df_pilot1 <- transform(df_pilot1,s1 = as.numeric(s1))
print(sapply(df_pilot1$s1, class)) #debugging
df_pilot1 <- df_pilot1 %>%
mutate(across(paste0('s', 1:20), as.numeric))
#changing non-responses (5) into NaN
df_pilot1 <- df_pilot1 %>%
mutate(across(paste0('s', 1:20), ~ case_when(. == 5 ~ 0,
TRUE ~ .)))
#reverse score what needs to be reverse scored
df_pilot1 <- df_pilot1 %>%
group_by(subjectID) %>%
mutate(s1 = ifelse(s1== 0, 0, 5 - s1),
s3 = ifelse(s3== 0, 0, 5 - s3),
s6 = ifelse(s6== 0, 0, 5 - s6),
s7 = ifelse(s7== 0, 0, 5 - s7),
s10 = ifelse(s10== 0, 0, 5 - s10),
s13 = ifelse(s13== 0, 0, 5 - s13),
s14 = ifelse(s14== 0, 0, 5 - s14),
s16 = ifelse(s16== 0, 0, 5 - s16),
s19 = ifelse(s19== 0, 0, 5 - s19))
#get the mean & replace NaNs(0s) w the mean
df_pilot1 <- df_pilot1 %>%
mutate(meanVals = (s1 + s2 + s3 + s4 + s5 + s6 + s7 + s8 + s9 + s10 + s11 + s12 + s13 + s14 + s15 + s16 + s17 + s18 + s19 + s20)/ 20) %>%
mutate(across(paste0('s', 1:20), ~ case_when(. == 0 ~ meanVals,
TRUE ~ .)))
#sum STAI score
df_pilot1 <- df_pilot1 %>%
group_by(subjectID) %>%
mutate(sumVals = s1 + s2 + s3 + s4 + s5 + s6 + s7 + s8 + s9 + s10 + s11 + s12 + s13 + s14 + s15 + s16 + s17 + s18 + s19 + s20)
#classify anxiety levels based on STAI sum
df_pilot1_STAI <- df_pilot1 %>%
group_by(subjectID) %>%
mutate(anxiety_level = case_when(
sumVals <= 37 ~ 'low trait anxiety',
sumVals >= 38 & sumVals < 44 ~ 'moderate trait anxiety',
sumVals >= 44 ~ 'high trait anxiety'
))
df_pilot1_STAI
#save out the file
write.csv(df_pilot1_STAI, '/Users/brookesevchik/Box/Data/Anxiety_Cognitive_Maps/Pilot12/STAI_scores_calculated.csv') #EDIT PATH NAME EACH TIME
setwd("~/Documents/GitHub/anxiety_cognitive_maps_analyses")
library(tidyverse)
df <- read_csv('/Users/brookesevchik/Box/Data/Anxiety_Cognitive_Maps/Pilot12/combinedData_Anxiety_Cognitive_Maps.csv/')
setwd("~/Documents/GitHub/anxiety_cognitive_maps_analyses")
library(tidyverse)
df <- read_csv('/Users/brookesevchik/Box/Data/Anxiety_Cognitive_Maps/Pilot12/combinedData_Anxiety_Cognitive_Maps.csv')
#analyze drop events
drop_df <- df %>%
filter(sectionType == 'dragTaskDropEvent') %>%
select(subject, trialCount, trialAttempt, RT, nCorrect, dragThreat, dragAcc, swappedThreat, swappedAcc)
write_csv(drop_df, 'data/dropEvent.csv')
drop_df
#analyze check answer events
check_answer_df <- df %>%
filter(sectionType == 'dragTaskCheckAnswerEvent') %>%
select(subject, trialCount, trialAttempt, RT, nCorrect, slot0Acc, slot0CurrentType, slot0CorrectType, slot0CurrentSRC, slot0CorrectSRC, slot1Acc,
slot1CurrentType, slot1CorrectType,slot1CurrentSRC, slot1CorrectSRC,
slot2Acc, slot2CurrentType, slot2CorrectType, slot2CurrentSRC, slot2CorrectSRC,
slot3Acc, slot3CurrentType, slot3CorrectType, slot3CurrentSRC, slot3CorrectSRC,
slot4Acc, slot4CurrentType, slot4CorrectType, slot4CurrentSRC, slot4CorrectSRC,
slot5Acc, slot5CurrentType, slot5CorrectType, slot5CurrentSRC, slot5CorrectSRC,
slot6Acc, slot6CurrentType, slot6CorrectType, slot6CurrentSRC, slot6CorrectSRC,
slot7Acc, slot7CurrentType, slot7CorrectType, slot7CurrentSRC, slot7CorrectSRC,
slot8Acc, slot8CurrentType, slot8CorrectType, slot8CurrentSRC, slot8CorrectSRC,
slot9Acc, slot9CurrentType, slot9CorrectType, slot9CurrentSRC, slot9CorrectSRC)
write_csv(check_answer_df, 'data/checkAnswer.csv')
check_answer_df
#analyze illegal transition data
illegal_transition_df <- df %>%
filter(sectionType == 'mainTask' & taskName == 'illegalTransitionTask') %>%
select(subject, trialCount, blockTrialCount, block, RT, acc, activeNodeCommunityCongruency:transitionThreatKind)
write_csv(illegal_transition_df, 'data/illegalTransition.csv')
illegal_transition_df
#analyze odd one out data
ooo_df <- df %>%
filter(sectionType == 'mainTask' & taskName == 'oddOneOutTest') %>%
select(subject, trialCount, RT, acc, partResp, chosenNode:chosenThreatStatus,
option1CommunityNumber, option1ThreatStatus,
option2CommunityNumber, option2ThreatStatus,
option3CommunityNumber, option3ThreatStatus)
write_csv(ooo_df, 'data/oddOneOut.csv')
#set-up
setwd("~/Documents/GitHub/anxiety_cognitive_maps_analyses")
library(tidyverse)
library(dplyr)
#BE SURE TO EDIT PATH NAMES EACH TIME YOU RUN SCRIPT
#path references
data_path <- '/Users/brookesevchik/Box/Data/Anxiety_Cognitive_Maps/Pilot12/STAIscores.csv' #EDIT PATH NAME EACH TIME
#load data
df_pilot1 <- read_csv(data_path)
#manipulate df to get it to look how you want
colnames(df_pilot1) <- c('not_included', 'subjectID', paste0('s', 1:20))
num_rows = nrow(df_pilot1)
num_rows
df_pilot1 <- df_pilot1 %>%
slice(2:num_rows) %>%
select('subjectID', 's1', 's2', 's3', 's4', 's5', 's6', 's7', 's8', 's9', 's10', 's11', 's12', 's13', 's14', 's15', 's16', 's17', 's18', 's19', 's20')
#getting scores into numeric form so you can add them together later
print(sapply(df_pilot1, class)) #debugging
df_pilot1 <- transform(df_pilot1,s1 = as.numeric(s1))
print(sapply(df_pilot1$s1, class)) #debugging
df_pilot1 <- df_pilot1 %>%
mutate(across(paste0('s', 1:20), as.numeric))
#changing non-responses (5) into NaN
df_pilot1 <- df_pilot1 %>%
mutate(across(paste0('s', 1:20), ~ case_when(. == 5 ~ 0,
TRUE ~ .)))
#reverse score what needs to be reverse scored
df_pilot1 <- df_pilot1 %>%
group_by(subjectID) %>%
mutate(s1 = ifelse(s1== 0, 0, 5 - s1),
s3 = ifelse(s3== 0, 0, 5 - s3),
s6 = ifelse(s6== 0, 0, 5 - s6),
s7 = ifelse(s7== 0, 0, 5 - s7),
s10 = ifelse(s10== 0, 0, 5 - s10),
s13 = ifelse(s13== 0, 0, 5 - s13),
s14 = ifelse(s14== 0, 0, 5 - s14),
s16 = ifelse(s16== 0, 0, 5 - s16),
s19 = ifelse(s19== 0, 0, 5 - s19))
#get the mean & replace NaNs(0s) w the mean
df_pilot1 <- df_pilot1 %>%
mutate(meanVals = (s1 + s2 + s3 + s4 + s5 + s6 + s7 + s8 + s9 + s10 + s11 + s12 + s13 + s14 + s15 + s16 + s17 + s18 + s19 + s20)/ 20) %>%
mutate(across(paste0('s', 1:20), ~ case_when(. == 0 ~ meanVals,
TRUE ~ .)))
#sum STAI score
df_pilot1 <- df_pilot1 %>%
group_by(subjectID) %>%
mutate(sumVals = s1 + s2 + s3 + s4 + s5 + s6 + s7 + s8 + s9 + s10 + s11 + s12 + s13 + s14 + s15 + s16 + s17 + s18 + s19 + s20)
#classify anxiety levels based on STAI sum
df_pilot1_STAI <- df_pilot1 %>%
group_by(subjectID) %>%
mutate(anxiety_level = case_when(
sumVals <= 37 ~ 'low trait anxiety',
sumVals >= 38 & sumVals < 44 ~ 'moderate trait anxiety',
sumVals >= 44 ~ 'high trait anxiety'
))
df_pilot1_STAI
#save out the file
write.csv(df_pilot1_STAI, '/Users/brookesevchik/Box/Data/Anxiety_Cognitive_Maps/Pilot12/STAI_scores_calculated.csv') #EDIT PATH NAME EACH TIME
setwd("~/Documents/GitHub/anxiety_cognitive_maps_analyses")
library(tidyverse)
df <- read_csv('/Users/brookesevchik/Box/Data/Anxiety_Cognitive_Maps/Pilot12/combinedData_Anxiety_Cognitive_Maps.csv')
View(df)
View(df)
View(df)
df
View(df)
View(df)
df_subject <- df %>%
filter('subject' == 'a2tbkohgx08vrk', taskName -- 'oddOneOutTest')
df_subject
df_subject <- df %>%
filter('subject' == 'a2tbkohgx08vrk', taskName == 'oddOneOutTest')
df_subject
df_subject <- df %>%
filter(subject == 'a2tbkohgx08vrk', taskName == 'oddOneOutTest')
df_subject
df_subject <- df %>%
filter(subject == 'a2tbkohgx08vrk', taskName == 'oddOneOutTest')
df_subject
mean_acc <- mean(df_subject$acc)
mean_acc
